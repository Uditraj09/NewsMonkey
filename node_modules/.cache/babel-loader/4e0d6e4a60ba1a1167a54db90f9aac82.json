{"ast":null,"code":"var _jsxFileName = \"/Users/uditsinhsolanki/News/newsapp/src/components/News.js\";\nimport React, { Component } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class News extends Component {\n  constructor(props) {\n    super(props);\n\n    this.Capitalize = str => {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    };\n\n    this.handlePrevClick = async () => {\n      this.setState({\n        page: this.state.page - 1\n      });\n      this.updateNews();\n    };\n\n    this.handleNextClick = async () => {\n      this.setState({\n        page: this.state.page + 1\n      });\n      this.updateNews();\n    };\n\n    this.fetchMoreData = async () => {\n      this.setState({\n        page: this.state.page + 1\n      });\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=998bf983a476403286dd62dfacbea490&page=${this.state.page}&pageSize=${this.props.pageSize}`; // this.setState({ loading: true });\n\n      let data = await fetch(url);\n      let parsedData = await data.json();\n      this.setState({\n        articles: this.state.articles.concat(parsedData.articles),\n        totalResults: parsedData.totalResults // loading: false,\n\n      });\n    };\n\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      totalResults: 0\n    };\n    document.title = `${this.Capitalize(this.props.category)}-NewsMonkey`;\n  }\n\n  async componentDidMount() {\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=998bf983a476403286dd62dfacbea490&page=1&pageSize=${this.props.pageSize}`;\n    this.setState({\n      loading: true\n    });\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    console.log(parsedData);\n    this.setState({\n      articles: parsedData.articles,\n      totalResults: parsedData.totalResults,\n      loading: false\n    });\n  } // handlePrevClick = async () => {\n  //   let url = `https://newsapi.org/v2/top-headlines?country=${\n  //     this.props.country\n  //   }&category=${\n  //     this.props.category\n  //   }&apiKey=998bf983a476403286dd62dfacbea490&page=${\n  //     this.state.page - 1\n  //   }&pageSize=${this.props.pageSize}`;\n  //   this.setState({ loading: true });\n  //   let data = await fetch(url);\n  //   let parsedData = await data.json();\n  //   console.log(parsedData);\n  //   this.setState({\n  //     page: this.state.page - 1,\n  //     articles: parsedData.articles,\n  //     loading: false,\n  //   });\n  // };\n  // handleNextClick = async () => {\n  //   console.log(\"next\");\n  //   if (\n  //     !(\n  //       this.state.page + 1 >\n  //       Math.ceil(this.state.totalResults / this.props.pageSize)\n  //     )\n  //   ) {\n  //     let url = `https://newsapi.org/v2/top-headlines?country=${\n  //       this.props.country\n  //     }&category=${\n  //       this.props.category\n  //     }&apiKey=998bf983a476403286dd62dfacbea490&page=${\n  //       this.state.page + 1\n  //     }&pageSize=${this.props.pageSize}`;\n  //     this.setState({ loading: true });\n  //     let data = await fetch(url);\n  //     let parsedData = await data.json();\n  //     this.setState({ loading: false });\n  //     this.setState({\n  //       page: this.state.page + 1,\n  //       articles: parsedData.articles,\n  //       loading: false,\n  //     });\n  //   }\n  // };\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        style: {\n          margin: \"35px 0px\"\n        },\n        children: [\"NewsMonkey-Top \", this.Capitalize(this.props.category), \" Headlines\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n        dataLength: this.state.articles.length,\n        next: this.fetchMoreData,\n        hasMore: this.state.articles.length !== this.state.totalResults,\n        loader: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: this.state.articles.map(element => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-4\",\n                children: /*#__PURE__*/_jsxDEV(NewsItem, {\n                  title: element.title ? element.title : \"\",\n                  description: element.description ? element.description : \"\",\n                  imageUrl: element.urlToImage,\n                  url: element.url,\n                  author: element.author,\n                  date: element.publishedAt,\n                  source: element.source.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this)\n              }, element.url, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nNews.defaultProps = {\n  country: \"in\",\n  pageSize: 8,\n  category: \"general\"\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string\n};","map":{"version":3,"names":["React","Component","NewsItem","Spinner","PropTypes","InfiniteScroll","News","constructor","props","Capitalize","str","charAt","toUpperCase","slice","handlePrevClick","setState","page","state","updateNews","handleNextClick","fetchMoreData","url","country","category","pageSize","data","fetch","parsedData","json","articles","concat","totalResults","loading","document","title","componentDidMount","console","log","render","margin","length","map","element","description","urlToImage","author","publishedAt","source","name","defaultProps","propTypes","string","number"],"sources":["/Users/uditsinhsolanki/News/newsapp/src/components/News.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nexport default class News extends Component {\n  static defaultProps = {\n    country: \"in\",\n    pageSize: 8,\n    category: \"general\",\n  };\n  static propTypes = {\n    country: PropTypes.string,\n    pageSize: PropTypes.number,\n    category: PropTypes.string,\n  };\n  Capitalize = (str) => {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      totalResults: 0,\n    };\n    document.title = `${this.Capitalize(this.props.category)}-NewsMonkey`;\n  }\n  async componentDidMount() {\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=998bf983a476403286dd62dfacbea490&page=1&pageSize=${this.props.pageSize}`;\n    this.setState({ loading: true });\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    console.log(parsedData);\n    this.setState({\n      articles: parsedData.articles,\n      totalResults: parsedData.totalResults,\n      loading: false,\n    });\n  }\n  // handlePrevClick = async () => {\n  //   let url = `https://newsapi.org/v2/top-headlines?country=${\n  //     this.props.country\n  //   }&category=${\n  //     this.props.category\n  //   }&apiKey=998bf983a476403286dd62dfacbea490&page=${\n  //     this.state.page - 1\n  //   }&pageSize=${this.props.pageSize}`;\n  //   this.setState({ loading: true });\n  //   let data = await fetch(url);\n  //   let parsedData = await data.json();\n  //   console.log(parsedData);\n\n  //   this.setState({\n  //     page: this.state.page - 1,\n  //     articles: parsedData.articles,\n  //     loading: false,\n  //   });\n  // };\n  // handleNextClick = async () => {\n  //   console.log(\"next\");\n  //   if (\n  //     !(\n  //       this.state.page + 1 >\n  //       Math.ceil(this.state.totalResults / this.props.pageSize)\n  //     )\n  //   ) {\n  //     let url = `https://newsapi.org/v2/top-headlines?country=${\n  //       this.props.country\n  //     }&category=${\n  //       this.props.category\n  //     }&apiKey=998bf983a476403286dd62dfacbea490&page=${\n  //       this.state.page + 1\n  //     }&pageSize=${this.props.pageSize}`;\n  //     this.setState({ loading: true });\n  //     let data = await fetch(url);\n  //     let parsedData = await data.json();\n  //     this.setState({ loading: false });\n\n  //     this.setState({\n  //       page: this.state.page + 1,\n  //       articles: parsedData.articles,\n  //       loading: false,\n  //     });\n  //   }\n  // };\n  handlePrevClick = async () => {\n    this.setState({ page: this.state.page - 1 });\n    this.updateNews();\n  };\n\n  handleNextClick = async () => {\n    this.setState({ page: this.state.page + 1 });\n    this.updateNews();\n  };\n  fetchMoreData = async () => {\n    this.setState({ page: this.state.page + 1 });\n    const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=998bf983a476403286dd62dfacbea490&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n    // this.setState({ loading: true });\n    let data = await fetch(url);\n    let parsedData = await data.json();\n\n    this.setState({\n      articles: this.state.articles.concat(parsedData.articles),\n      totalResults: parsedData.totalResults,\n\n      // loading: false,\n    });\n  };\n  render() {\n    return (\n      <div className=\"container my-3\">\n        <h1 className=\"text-center\" style={{ margin: \"35px 0px\" }}>\n          NewsMonkey-Top {this.Capitalize(this.props.category)} Headlines\n        </h1>\n        {this.state.loading && <Spinner />}\n        <InfiniteScroll\n          dataLength={this.state.articles.length}\n          next={this.fetchMoreData}\n          hasMore={this.state.articles.length !== this.state.totalResults}\n          loader={<Spinner />}\n        >\n          <div className=\"container\">\n            <div className=\"row\">\n              {this.state.articles.map((element) => {\n                return (\n                  <div className=\"col-md-4\" key={element.url}>\n                    <NewsItem\n                      title={element.title ? element.title : \"\"}\n                      description={\n                        element.description ? element.description : \"\"\n                      }\n                      imageUrl={element.urlToImage}\n                      url={element.url}\n                      author={element.author}\n                      date={element.publishedAt}\n                      source={element.source.name}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </InfiniteScroll>\n        {/* <div className=\"container d-flex justify-content-between\">\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            disabled={this.state.page <= 1}\n            onClick={this.handlePrevClick}\n          >\n            &larr;Previous\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn-dark\"\n            onClick={this.handleNextClick}\n            disabled={\n              this.state.page + 1 >\n              Math.ceil(this.state.totalResults / this.props.pageSize)\n            }\n          >\n            Next &rarr;\n          </button>\n        </div> */}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}